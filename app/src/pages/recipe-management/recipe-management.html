<ion-header>
    <ion-backdrop style="opacity:0.35;" class="show-backdrop" (click)="toggleMode(false)" *ngIf="editMode"></ion-backdrop>

    <ion-navbar>
        <ion-title (click)="showInput(true, 'name')">{{recipe.name || ('NEW_RECIPE' | translate)}}</ion-title>
        <ion-buttons end>
            <button ion-button>
                        <ion-icon name="checkmark"></ion-icon>
                      </button>
            <button ion-button icon-only (click)="presentPopover($event)">
                        <ion-icon name="more"></ion-icon>
                      </button>

        </ion-buttons>
    </ion-navbar>
    <ion-card class="no-padding">
        <div class="fill" [@resizeImg]='imgState' (@resizeImg.done)="content.resize()" (touchstart)="swipe($event, 'start')" (touchend)="swipe($event, 'end')" [style.background-image]="getBackground(recipe.imageUrl)">
        </div>
    </ion-card>
</ion-header>
<ion-backdrop style="opacity:0.35;" class="show-backdrop" (click)="toggleMode(false)" *ngIf="editMode"></ion-backdrop>
<ion-content>
    <ion-grid *ngIf="!editMode">
        <ion-row>
            <ion-col col-6>

            </ion-col>

            <ion-col col-4>
                <ion-icon name='time'></ion-icon>
                <span class="label" (click)="showInput(true, 'duration')">{{recipe.duration==null?('PREPARATION_TIME' | translate):(recipe.duration|time)}}</span>
            </ion-col>
            <ion-col col-2>
                <span class="label" (click)="showInput(true, 'servings')">{{recipe.servings==null?('SERVINGS' | translate):recipe.servings}}</span>
                <ion-icon name='people'></ion-icon>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col col-12>
                {{recipe.description}}
            </ion-col>
        </ion-row>
        <ion-row style="height: 60vh">
            <ion-col col-12>
                <ion-slides pager>
                    <ion-slide>
                        <ion-card style="height: 56vh;">
                            <ion-card-header>
                                <ion-icon name='basket'></ion-icon>
                                {{'INGREDIENTS' | translate}}
                            </ion-card-header>
                            <ion-card-content>
                                <ion-scroll scrollY="true">
                                    The British use the term "header", but the American term "head-shot" the English simply refuse to adopt.
                                </ion-scroll>
                            </ion-card-content>
                        </ion-card>
                    </ion-slide>
                    <ion-slide>
                        <ion-card style="height: 56vh;">
                            <ion-card-header>
                                <ion-icon name='list'></ion-icon>
                                {{'INSTRUCIONS' | translate}}
                            </ion-card-header>
                            <ion-card-content>
                                <ion-scroll scrollY="true">
                                    The British use the term "header", but the American term "head-shot" the English simply refuse to adopt.
                                </ion-scroll>
                            </ion-card-content>
                        </ion-card>
                    </ion-slide>
                </ion-slides>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
<ion-footer *ngIf="editMode">
    <ion-toolbar>
        <ion-input *ngIf="inputRef=='name'" [(ngModel)]="recipe.name" class="text-white" autofocus></ion-input>
        <ion-input *ngIf="inputRef=='duration'" type="number" [(ngModel)]="recipe.duration" class="text-white" autofocus></ion-input>
        <ion-input *ngIf="inputRef=='servings'" type="number" [(ngModel)]="recipe.servings" class="text-white" autofocus></ion-input>
        <ion-buttons end>
            <button ion-button (click)="toggleMode(false)">
                    <ion-icon name="checkmark"></ion-icon>
                  </button>
        </ion-buttons>
    </ion-toolbar>
</ion-footer>